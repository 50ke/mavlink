<?xml version="1.0"?>
<mavlink>
    <include>common.xml</include>
    <!-- <version>9</version> -->
    <dialect>8</dialect>
    <enums>
        <enum name="USV_MSG_SRC">
            <entry value="0" name="USV_MSG_SRC_USV">
                <description>usv</description>
            </entry>
            <entry value="1" name="USV_MSG_SRC_GCS">
                <description>gcs</description>
            </entry>
            <entry value="2" name="USV_MSG_SRC_SERVER">
                <description>server</description>
            </entry>
        </enum>
        <enum name="USV_LINK_TYPE">
            <entry value="0" name="USV_LINK_TYPE_NETWORK">
                <description>network</description>
            </entry>
            <entry value="1" name="USV_LINK_TYPE_RADIO">
                <description>radio</description>
            </entry>
            <entry value="2" name="USV_LINK_TYPE_SATELLITE">
                <description>satellite</description>
            </entry>
        </enum>
        <enum name="USV_CHANNEL_TYPE">
            <entry value="0" name="USV_CHANNEL_TYPE_UDP">
                <description>udp</description>
            </entry>
            <entry value="1" name="USV_CHANNEL_TYPE_WS">
                <description>websocket</description>
            </entry>
            <entry value="2" name="USV_CHANNEL_TYPE_MQTT">
                <description>mqtt</description>
            </entry>
            <entry value="3" name="USV_CHANNEL_TYPE_SERIAL_PORT">
                <description>serial port</description>
            </entry>
        </enum>
    </enums>

    <messages>
        <message id="50001" name="USV_REGISTER_REQUEST">
            <description>usv/ugc register request</description>
            <field type="uint8_t" name="msg_src" enum="USV_MSG_SRC">msg source</field>
            <field type="uint8_t" name="link_type" enum="USV_LINK_TYPE">msg source</field>
            <field type="uint8_t" name="channel_type" enum="USV_CHANNEL_TYPE">msg source</field>
        </message>
        <message id="50002" name="USV_REGISTER_RESPONSE">
            <description>usv/ugc register response</description>
            <field type="uint8_t" name="target_system" invalid="-1">assigned system id.</field>
        </message>
        <message id="50003" name="USV_DEREGISTER_REQUEST">
            <description>usv/ugc deregister request</description>
            <field type="uint32_t" name="time_ms" units="ms">system current timestamp.</field>
        </message>
        <message id="50004" name="USV_DEREGISTER_RESPONSE">
            <description>usv/ugc deregister response</description>
            <field type="uint8_t" name="ack">1: deregister succeed. 0: deregister failed.</field>
        </message>
        <message id="50005" name="USV_CONNECT_REQUEST">
            <description>gcs connect request</description>
            <field type="uint8_t" name="target_system">usv system id.</field>
        </message>
        <message id="50006" name="USV_CONNECT_RESPONSE">
            <description>usv connect response</description>
            <field type="uint8_t" name="target_system">gcs system id.</field>
            <field type="uint8_t" name="ack">0: connect failed or usv connected by other gcs. 1: connect succeed.</field>
        </message>
        <message id="50007" name="USV_DISCONNECT_REQUEST">
            <description>gcs disconnect request</description>
            <field type="uint8_t" name="target_system">usv system id.</field>
        </message>
        <message id="50008" name="USV_DISCONNECT_RESPONSE">
            <description>usv disconnect response</description>
            <field type="uint8_t" name="target_system">gcs system id.</field>
            <field type="uint8_t" name="ack">0: disconnect failed. 1: disconnect succeed.</field>
        </message>
        <message id="50009" name="USV_SYSTEM_INFORMATION">
            <description>system information</description>
            <field type="char[128]" name="name">system name</field>
            <field type="uint8_t" name="connect">0: not connected. 1: connected.</field>
            <field type="int32_t" name="lat" units="degE7">Latitude (WGS84, EGM96 ellipsoid)</field>
            <field type="int32_t" name="lon" units="degE7">Longitude (WGS84, EGM96 ellipsoid)</field>
        </message>
    </messages>
</mavlink>
